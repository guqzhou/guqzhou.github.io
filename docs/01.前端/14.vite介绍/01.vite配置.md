## vite配置
### package.json
```json
// 配置--open 会自动打开
// vue-tsc 打包会做一个检查
"dev": "vite --open" 
"build": "vue-tsc && vite build",
```

```ts
vue.config.ts
base: './'
resolve: {
}
打包的时候去掉console.log()
build: {
    minify: 'terser',
    terserOptions: {
        compress: {
            // 生产环境
            drop_console: true,
            drop_debugger: true
        }
    }
}

```

### 配置mock
1. pnpm add vite-plugin-mock -D
2. import { viteMockServe } from 'vite-plugin-mock'
```ts
viteMockServe({
        // default
        mockPath: 'mock',
        enable: true,
}),
```
3. pnpm i mockjs
4. import { mock } from 'mockjs'

### 配置代码压缩
```bash
pnpm i vite-plugin-compression -D
import viteCompression from 'vite-plugin-compression';
plugins: [viteCompression()],
```

### 图片打包配置
```bash
pnpm i vite-plugin-imagemin -D
import viteImagemin from 'vite-plugin-imagemin'
 plugins: [
      viteImagemin({
        gifsicle: {
          optimizationLevel: 7,
          interlaced: false,
        },
        optipng: {
          optimizationLevel: 7,
        },
        mozjpeg: {
          quality: 20,
        },
        pngquant: {
          quality: [0.8, 0.9],
          speed: 4,
        },
        svgo: {
          plugins: [
            {
              name: 'removeViewBox',
            },
            {
              name: 'removeEmptyAttrs',
              active: false,
            },
          ],
        },
      }),
    ]
```
