---
title: watchEffect
date: 2023-5-02 15:37:31
permalink: /pages/d35ab2/
categories: 
  - 前端
  - vue3
tags: 
  - 
---
## watchEffect的用法
### 用法
```vue
<script>
const message = ref('')
watchEffect((callback) => {
  console.log(message.value)
  // 非惰性的，默认会执行一次
  callback(() => {
    console.log('before之前做一些事情，防抖之类')
  })
})
const stop = watchEffect((callback) => {
  console.log(message.value)
  // 非惰性的，默认会执行一次
  callback(() => {
    console.log('before之前做一些事情，防抖之类')
  })
}, {
      onTrigger(event) {
         debugger  // 开发环境下可以帮我们进行一个调试
      }
  
}
)
/**
 * @function 处理停止监听
 * */
const onStop = () => {
  stop()
}
</script>
```

### 配置项 :sunny:
|  属性   | 说明  | 类型 |
| :----: | :----: | :-----: |
|  deep  | 深度监听，reactive默认开启  | boolean |
| immediate  | 立即执行一次 | boolean |
|  flush | 默认pre组件更新之前调用，sync同步执行，post是组件更新之后执行 | string |
